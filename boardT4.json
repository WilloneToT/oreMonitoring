{"slots":{"0":{"name":"container_cobalt","type":{"events":[],"methods":[]}},"1":{"name":"container_fluorine","type":{"events":[],"methods":[]}},"2":{"name":"container_scandium","type":{"events":[],"methods":[]}},"3":{"name":"container_gold","type":{"events":[],"methods":[]}},"4":{"name":"container_cobaltite","type":{"events":[],"methods":[]}},"5":{"name":"container_cryolite","type":{"events":[],"methods":[]}},"6":{"name":"container_kolbecktite","type":{"events":[],"methods":[]}},"7":{"name":"container_gold_nugget","type":{"events":[],"methods":[]}},"8":{"name":"screen","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-2":{"name":"system","type":{"events":[],"methods":[]}},"-3":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"unit.hide()\nfunction round(num, dec)\n  local mult = 10^(dec or 0)\n  return math.floor(num * mult + 0.5) / mult\nend\n\nfunction converUnit(oreStock)\n     printL = [[L]]\n     printKl = [[Kl]]\n     printMl = [[Ml]]\n     converToL = oreStock\n     converToKl = math.floor(oreStock/1000)\n     converToMl = oreStock/1000000\n    if oreStock <= 9999 then return\n         converToL ..printL\n         elseif oreStock >= 10000 and oreStock < 1000000 then return\n         converToKl ..printKl\n         elseif oreStock >= 1000000 then return\n         round(converToMl, 2) ..printMl\n        end\n    end\n\nfunction messagePrint(a, b, c, d)\n\tmessageOn = [[ 0;]]\n     messageOff = [[ 1;]]  \n    if a > 26 and b >26 and c >26 and d >26 then return\n        \tmessageOn\n        else return\n        \tmessageOff\n        end\n    end\n    \n\nfunction resourcesStatus(percent)        \n    if percent <= 25 then return [[\n\t   \tbackground: rgb(27,0,0);\n\t\tbackground: linear-gradient(90deg, rgba(27,0,0,1) 0%, rgba(129,23,23,0.5) 25%, rgba(251,0,0,0.5) 100%);\n        ]]\n       elseif percent > 25 and percent < 60 then return [[\n\t\tbackground: rgb(27,0,0);\n\t\tbackground: linear-gradient(90deg, rgba(27,0,0,1) 0%, rgba(129,101,23,1) 25%, rgba(251,202,0,1) 100%)\n        ]]\n        else return [[\n\t\tbackground: rgb(5,27,0);\n\t\tbackground: linear-gradient(90deg, rgba(5,27,0,1) 0%, rgba(38,129,23,1) 25%, rgba(34,251,0,1) 100%);\n        ]]\n        end\n    end\n\nlocal coma = \", \"\n\nfunction cobaltStock(percent)\n    \n    local cobaltType = oreType[1] ..coma\n    local cobaltOk = \"\"\n    \tif percent <=25 then return\n        \tcobaltType\n        else return\n        \tcobaltOk     \t\n        end\n     end\n\nfunction fluorineStock(percent)\n    local fluorineType = oreType[2] ..coma\n    local fluorineOk = \"\"\n    \tif percent <=25 then return\n        \tfluorineType      \n        else return\n        \tfluorineOk\n        end\n     end\n\nfunction scandiumStock(percent)\n    local scandiumType = oreType[3] ..coma\n    local scandiumOk = \"\"\n    \tif percent <=25 then return\n        \tscandiumType\n        else return\n        \tscandiumOk\n        end\n     end\n\nfunction goldStock(percent)\n    local goldType = oreType[4]\n    local goldOk = \"\"\n    \tif percent <=25 then return     \t\n        \tgoldType\n        else return\n        \tgoldOk\t\n        end\n     end\n\noreType = {[1]=\"cobalt\",[2]=\"fluorine\",[3]=\"scandium\",[4]=\"gold\",[5]=\"cobaltite\",[6]=\"cryolite\",[7]=\"kolbecktite\",[8]=\"gold_nugget\"}\noreWeight = {[1]=8.90,[2]=1.70,[3]=2.98,[4]=19.30,[5]=6.33,[6]=2.95,[7]=2.37,[8]=19.30}\n\nlocal maxWitdh = 46.5\n\nmaxContainerPure = 192000 --export: Max Tier1 Container Volume\nmaxContainerOre = 192000 --export: Max Tier1 Container Volume\n\n-- Container_cobalt\nlocal containerMass_cobalt = math.ceil(container_cobalt.getItemsMass()/oreWeight[1])\nlocal percentcobalt = math.ceil((containerMass_cobalt/maxContainerPure)*100)\nlocal cobaltStatus = resourcesStatus(percentcobalt)\nlocal cobaltFactor = maxWitdh/maxContainerPure\nlocal cobaltBarStatus = containerMass_cobalt*cobaltFactor\nlocal cobaltStockStatus = cobaltStock(percentcobalt)\nlocal containerVolumecobalt = converUnit(containerMass_cobalt) \n    \n-- Container_fluorine\nlocal containerMass_fluorine = math.ceil(container_fluorine.getItemsMass()/oreWeight[2])\nlocal percentfluorine = math.ceil((containerMass_fluorine/maxContainerPure)*100)\nlocal fluorineStatus = resourcesStatus(percentfluorine)\nlocal fluorineFactor = maxWitdh/maxContainerPure\nlocal fluorineBarStatus = containerMass_fluorine*fluorineFactor\nlocal fluorineStockStatus = fluorineStock(percentfluorine)\nlocal containerVolumefluorine = converUnit(containerMass_fluorine)\n    \n-- Container_scandium\nlocal containerMass_scandium = math.ceil(container_scandium.getItemsMass()/oreWeight[3])\nlocal percentscandium = math.ceil((containerMass_scandium/maxContainerPure)*100)\nlocal scandiumStatus = resourcesStatus(percentscandium)\nlocal scandiumFactor = maxWitdh/maxContainerPure\nlocal scandiumBarStatus = containerMass_scandium*scandiumFactor\nlocal scandiumStockStatus = scandiumStock(percentscandium)\nlocal containerVolumescandium = converUnit(containerMass_scandium)\n    \n-- Container_gold\nlocal containerMass_gold = math.ceil(container_gold.getItemsMass()/oreWeight[4])\nlocal percentgold = math.ceil((containerMass_gold/maxContainerPure)*100)\nlocal goldStatus = resourcesStatus(percentgold)\nlocal goldFactor = maxWitdh/maxContainerPure\nlocal goldBarStatus = containerMass_gold*goldFactor\nlocal goldStockStatus = goldStock(percentgold)\nlocal containerVolumegold = converUnit(containerMass_gold)\n\n-- Container_cobaltite\nlocal containerMass_cobaltite = math.ceil(container_cobaltite.getItemsMass()/oreWeight[5])\nlocal percentcobaltite = math.ceil((containerMass_cobaltite/maxContainerOre)*100)\nlocal cobaltiteStatus = resourcesStatus(percentcobaltite)\nlocal cobaltiteFactor = maxWitdh/maxContainerOre\nlocal cobaltiteBarStatus = containerMass_cobaltite*cobaltiteFactor\n--local cobaltiteStockStatus = cobaltiteStock(percentcobaltite)\nlocal containerVolumecobaltite = converUnit(containerMass_cobaltite) \n    \n-- Container_cryolite\nlocal containerMass_cryolite = math.ceil(container_cryolite.getItemsMass()/oreWeight[6])\nlocal percentcryolite = math.ceil((containerMass_cryolite/maxContainerOre)*100)\nlocal cryoliteStatus = resourcesStatus(percentcryolite)\nlocal cryoliteFactor = maxWitdh/maxContainerOre\nlocal cryoliteBarStatus = containerMass_cryolite*cryoliteFactor\n--local cryoliteStockStatus = cryoliteStock(percentcryolite)\nlocal containerVolumecryolite = converUnit(containerMass_cryolite)\n    \n-- Container_kolbecktite\nlocal containerMass_kolbecktite = math.ceil(container_kolbecktite.getItemsMass()/oreWeight[7])\nlocal percentkolbecktite = math.ceil((containerMass_kolbecktite/maxContainerOre)*100)\nlocal kolbecktiteStatus = resourcesStatus(percentkolbecktite)\nlocal kolbecktiteFactor = maxWitdh/maxContainerOre\nlocal kolbecktiteBarStatus = containerMass_kolbecktite*kolbecktiteFactor\n--local kolbecktiteStockStatus = kolbecktiteStock(percentkolbecktite)\nlocal containerVolumekolbecktite = converUnit(containerMass_kolbecktite)\n    \n-- Container_gold_nugget\nlocal containerMass_gold_nugget = math.ceil(container_gold_nugget.getItemsMass()/oreWeight[8])\nlocal percentgold_nugget = math.ceil((containerMass_gold_nugget/maxContainerOre)*100)\nlocal gold_nuggetStatus = resourcesStatus(percentgold_nugget)\nlocal gold_nuggetFactor = maxWitdh/maxContainerOre\nlocal gold_nuggetBarStatus = containerMass_gold_nugget*gold_nuggetFactor\n--local gold_nuggetStockStatus = gold_nuggetStock(percentgold_nugget)\nlocal containerVolumegold_nugget = converUnit(containerMass_gold_nugget)\n\nmessage = messagePrint(percentcobalt, percentfluorine, percentscandium, percentgold)\n\nlocal view = [[\n<html>\n<head>\n</head>\n\n<style>\nem {\n\tfont-weight: bold;\n}\n\n.cobalt {\n\ttext-shadow: 0 0vw 0.11vw rgba(245, 245, 220, 0.8);\n\tcolor: rgba(245, 245, 220, 0.8);\n}\n.fluorine {\n\ttext-shadow: 0 0vw 0.11vw rgba(17, 130, 19, 0.8);\n\tcolor: rgba(17, 130, 19, 0.8);\n}\n\n.scandium {\n\ttext-shadow: 0 0vw 0.11vw rgba(250, 157, 80, 0.8);\n\tcolor: rgba(250, 157, 80, 0.8);\n}\n.gold {\n\ttext-shadow: 0 0vw 0.11vw rgba(191, 63, 191, 0.8);\n\tcolor: rgba(191, 63, 191, 0.8);\n}\n\n.weak {\n\tanimation: faible 1s infinite alternate;\n}\n\n\nbody {\n\twidth:100%;\n\tbackground-color: rgba(0, 0, 0, 1);\n}\n\n.progress-bar {\n\toverflow: visible;\n\twhite-space: nowrap;\n\theight: 70%;\n\tbox-shadow: 0 0vw 0.2vw rgba(0, 0, 0, 0.8);\n}\n\n\t.progress-bar-cobalt {\n\t\twidth: ]].. cobaltBarStatus .. [[vw;\n\t\t]] .. cobaltStatus .. [[\n\t}\n\n\t.progress-bar-fluorine {\n\t\twidth: ]].. fluorineBarStatus ..[[vw;\n\t\t]] .. fluorineStatus .. [[\n\t}\n\n\t.progress-bar-scandium {\n\t\twidth: ]].. scandiumBarStatus ..[[vw;\n\t\t]] .. scandiumStatus .. [[\n\t}\n\n\t.progress-bar-gold {\n\t\twidth: ]].. goldBarStatus ..[[vw;\n\t\t]] .. goldStatus .. [[\n\t}\n\n.progress-bar2 {\n\tfont-size: 2vw;\n\toverflow: visible;\n\twhite-space: nowrap;\n\theight: 30%;\n\tbox-shadow: 0 0vw 0.1vw rgba(0, 0, 0, 0.4);\n}\n\n\t.progress-bar-cobaltite {\n\t\twidth: ]].. cobaltiteBarStatus .. [[vw;\n\t\t]] .. cobaltiteStatus .. [[\n\t}\n\n\t.progress-bar-cryolite {\n\t\twidth: ]].. cryoliteBarStatus ..[[vw;\n\t\t]] .. cryoliteStatus .. [[\n\t}\n\n\t.progress-bar-kolbecktite {\n\t\twidth: ]].. kolbecktiteBarStatus ..[[vw;\n\t\t]] .. kolbecktiteStatus .. [[\n\t}\n\n\t.progress-bar-gold_nugget {\n\t\twidth: ]].. gold_nuggetBarStatus ..[[vw;\n\t\t]] .. gold_nuggetStatus .. [[\n\t}\n\n /*Parent container*/\n\n.prime {\n\twitdh : auto;\n\tposition: absolute;\n\tleft: 2.58vw;\n\tanimation: show 1s ease-in;\n}\n\t.title h1 {\n\t\tfont-size: 8vw;\n\t\ttext-align: center;\n\t\tpadding: 0.51vw;\n}\n\t.container {\n\t\ttext-align: center;\n\t\twidth: 50vw;\n\t\tdisplay: grid;\n\t\tgrid-template-rows: 9vw;\n\t\tgrid-template-columns: 25.8vw 20.64vw 100%;\n\t\talign-items: center;\n\t\tpadding: 1vw;\n}\n\t\t.container_message {\n    \t\topacity:  ]] .. message.. [[ ;\n\t\t\ttext-align: center;\n\t\t\twidth: 100vw;\n\t\t\tdisplay: inherit flex;\n\t\t\talign-items: center;\n\t\t\tpadding-right: 2.58vw;\n\t\t\tpadding-top: 2.58vw;\n}\n\n/*Child container*/\n\t.span {\nposition: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n\n\t.item_container {\n\t\tjustify-self: auto;\n  \t\tpadding: 1.03vw;\n\t\theight: 100%;\n  \t\tfont-size: 3.5vw;\n\t\tposition: relative;\n\t\tvertical-align: middle;\n  \t\ttext-align: center;\t\t\n  \t\tcolor: white;\n\t}\n\n\t.item_container_cobalt {\n          background-color: rgba(146, 220, 226, 0.4);\n          border: 0.2vw solid rgba(146, 220, 226, 1);\n\t}\n\t.item_container_fluorine {\n\t\tbackground-color: rgba(175, 170, 165, 0.4);\n\t\tborder: 0.2vw solid rgba(175, 170, 165, 1);\n\t}\n\t.item_container_scandium {\n\t\tbackground-color: rgba(235, 99, 65, 0.4);\n\t\tborder: 0.2vw solid rgba(235, 99, 65, 1);\n\t}\n\t.item_container_gold {\n\t\tbackground-color: rgba(247, 250, 71, 0.4);\n\t\tborder: 0.2vw solid rgba(247, 250, 71, 1);\n\t}\n\n\t\t.item_container_cobalt--1 {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\n\t\t}\n\t\t.item_container_fluorine--1 {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\n\t\t}\n\t\t.item_container_scandium--1 {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\n\t\t}\n\t\t.item_container_gold--1 {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\n\t\t\tz-index: 2;\n\t\t}\n\n\t\t.infos_title {\n\t\t\tposition: relative;\n\t\t\tleft: 34.83vw;\n\t\t\tcolor: red;\n\t\t\tmargin-bottom: 3.09vw;\n\t\t\twidth: 25.8vw;\n\t\t\tfont-weight: bold;\n\t\t\tborder-bottom: 0.31vw solid red;\n\t\t\tfont-size: 3.92vw;\n\t\t\tanimation: urgent 2s infinite alternate;\n\t\t}\n\t\t.item_container_message {\n\t\t\tjustify-self: center;\n\t\t\talign-items: center;\n  \t\t\tfont-size: 3.09vw;\n  \t\t\ttext-align: center;\n  \t\t\tcolor: white;\n\t\t\tpadding-right: 0.16vw;\n\t\t}\n\n@keyframes show {\n\t0% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes faible {\n\t0% {\n\t\ttransform: scale(0.95);\n\t}\n\t100% {\n\t\ttransform: scale(1);\n\t}\n}\n\n@keyframes urgent {\n\t0% {\n\t\ttransform: scale(1.25);\n\t}\n\t100% {\n\t\ttransform: scale(1.5);\n \t}\n}\n\n</style>\n\n<!-- CONTAINER -->\n<header>\n\t<div class=\"title\">\n\t\t<h1>Tier 4 Pure</h1>\n\t</div>\n</header>\n\n<body>\n<div class=\"prime\">\n<div class=\"container\">\n\t<div class=\"container container__block--1\">\n\t\t<div class=\"item_container item_container_cobalt\">\n          \t<span class=\"span\">]].. oreType[1] ..[[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_cobalt\">\n        \t<span class=\"span\">]] .. containerVolumecobalt .. [[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_cobalt item_container_cobalt--1\">\n\t\t\t<div class=\"progress-bar progress-bar-cobalt\"> \n\t\t\t\t]] .. percentcobalt .. [[ %\n\t\t\t</div>\n\t\t\t<div class=\"progress-bar2 progress-bar-cobaltite\"> \n\t\t\t\t]] .. containerVolumecobaltite .. [[\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=\"container\">\n\t<div class=\"container container__block--2\">\n\t\t<div class=\"item_container item_container_fluorine\">\n          \t<span class=\"span\">]].. oreType[2] ..[[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_fluorine\">\n        \t<span class=\"span\">]] .. containerVolumefluorine .. [[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_fluorine item_container_fluorine--1\">\n\t\t   \t<div class=\"progress-bar progress-bar-fluorine\"> \n\t\t\t\t]] .. percentfluorine .. [[ %\n\t\t\t</div>\n\t\t\t<div class=\"progress-bar2 progress-bar-cryolite\"> \n\t\t\t\t]] .. containerVolumecryolite .. [[\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=\"container\">\n\t<div class=\"container container__block--3\">\n\t\t<div class=\"item_container item_container_scandium\">\n          \t<span class=\"span\">]].. oreType[3] ..[[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_scandium\">\n        \t<span class=\"span\">]] .. containerVolumescandium .. [[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_scandium item_container_scandium--1\">\n\t\t   \t<div class=\"progress-bar progress-bar-scandium\"> \n\t\t\t\t]] .. percentscandium .. [[ %\n\t\t\t</div>\n\t\t\t<div class=\"progress-bar2 progress-bar-kolbecktite\"> \n\t\t\t\t]] .. containerVolumekolbecktite .. [[\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=\"container\">\n\t<div class=\"container container__block--4\">\n\t\t<div class=\"item_container item_container_gold\">\n          \t<span class=\"span\">]].. oreType[4] ..[[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_gold\">\n        \t<span class=\"span\">]] .. containerVolumegold .. [[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_gold item_container_gold--1\">\n\t\t   \t<div class=\"progress-bar progress-bar-gold\"> \n\t\t\t\t]] .. percentgold .. [[ %\n\t\t\t</div>\n\t\t\t<div class=\"progress-bar2 progress-bar-gold_nugget\"> \n\t\t\t\t]] .. containerVolumegold_nugget .. [[\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n\n<div class=\"container_message\">\n\t<div class=\"item_container\">\n\t\t<div class=\"infos_title\">\n\t\t\tALERT\n\t\t</div>\n\n\t\t<div class=\"item_container_message\">\n\t\t\t<div class=\"infos_message\">\n\t\t\t\t<div class=\"weak\">\n\t\t\t\tLow stock of \n\t\t\t\t<em class=\"cobalt\">]].. cobaltStockStatus ..[[</em>\n\t\t\t\t<em class=\"fluorine\">]].. fluorineStockStatus ..[[</em>\n\t\t\t\t<em class=\"scandium\">]].. scandiumStockStatus ..[[</em>\n\t\t\t\t<em class=\"gold\">]].. goldStockStatus ..[[</em>\n\t\t\t\t<br>\n\t\t\t\tMiners have to work !\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n\n</body>\n</html>\n]]\n\nscreen.setHTML(view)","filter":{"args":[],"signature":"start()","slotKey":"-1"},"key":"0"}],"methods":[],"events":[]}
