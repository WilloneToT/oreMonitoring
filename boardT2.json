{"slots":{"0":{"name":"container_calcium","type":{"events":[],"methods":[]}},"1":{"name":"container_chrome","type":{"events":[],"methods":[]}},"2":{"name":"container_copper","type":{"events":[],"methods":[]}},"3":{"name":"container_sodium","type":{"events":[],"methods":[]}},"4":{"name":"container_limestone","type":{"events":[],"methods":[]}},"5":{"name":"container_chromite","type":{"events":[],"methods":[]}},"6":{"name":"container_malachite","type":{"events":[],"methods":[]}},"7":{"name":"container_natron","type":{"events":[],"methods":[]}},"8":{"name":"screen","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-3":{"name":"player","type":{"events":[],"methods":[]}},"-2":{"name":"construct","type":{"events":[],"methods":[]}},"-4":{"name":"system","type":{"events":[],"methods":[]}},"-5":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"unit.hideWidget()\nfunction round(num, dec)\n  local mult = 10^(dec or 0)\n  return math.floor(num * mult + 0.5) / mult\nend\n\nfunction converUnit(oreStock)\n     printL = [[L]]\n     printKl = [[Kl]]\n     printMl = [[Ml]]\n     converToL = oreStock\n     converToKl = math.floor(oreStock/1000)\n     converToMl = oreStock/1000000\n    if oreStock <= 9999 then return\n         converToL ..printL\n         elseif oreStock >= 10000 and oreStock < 1000000 then return\n         converToKl ..printKl\n         elseif oreStock >= 1000000 then return\n         round(converToMl, 2) ..printMl\n        end\n    end\n\nfunction messagePrint(a, b, c, d)\n\tmessageOn = [[ 0;]]\n     messageOff = [[ 1;]]  \n    if a > 26 and b >26 and c >26 and d >26 then return\n        \tmessageOn\n        else return\n        \tmessageOff\n        end\n    end\n    \n\nfunction resourcesStatus(percent)        \n    if percent <= 25 then return [[\n\t   \tbackground: rgb(27,0,0);\n\t\tbackground: linear-gradient(90deg, rgba(27,0,0,1) 0%, rgba(129,23,23,0.5) 25%, rgba(251,0,0,0.5) 100%);\n        ]]\n       elseif percent > 25 and percent < 60 then return [[\n\t\tbackground: rgb(27,0,0);\n\t\tbackground: linear-gradient(90deg, rgba(27,0,0,1) 0%, rgba(129,101,23,1) 25%, rgba(251,202,0,1) 100%)\n        ]]\n        else return [[\n\t\tbackground: rgb(5,27,0);\n\t\tbackground: linear-gradient(90deg, rgba(5,27,0,1) 0%, rgba(38,129,23,1) 25%, rgba(34,251,0,1) 100%);\n        ]]\n        end\n    end\n\nlocal coma = \", \"\n\nfunction calciumStock(percent)\n    \n    local calciumType = oreType[1] ..coma\n    local calciumOk = \"\"\n    \tif percent <=25 then return\n        \tcalciumType\n        else return\n        \tcalciumOk     \t\n        end\n     end\n\nfunction chromeStock(percent)\n    local chromeType = oreType[2] ..coma\n    local chromeOk = \"\"\n    \tif percent <=25 then return\n        \tchromeType      \n        else return\n        \tchromeOk\n        end\n     end\n\nfunction copperStock(percent)\n    local copperType = oreType[3] ..coma\n    local copperOk = \"\"\n    \tif percent <=25 then return\n        \tcopperType\n        else return\n        \tcopperOk\n        end\n     end\n\nfunction sodiumStock(percent)\n    local sodiumType = oreType[4]\n    local sodiumOk = \"\"\n    \tif percent <=25 then return     \t\n        \tsodiumType\n        else return\n        \tsodiumOk\t\n        end\n     end\n\noreType = {[1]=\"calcium\",[2]=\"chrome\",[3]=\"copper\",[4]=\"sodium\",[5]=\"limestone\",[6]=\"chromite\",[7]=\"malachite\",[8]=\"natron\"}\noreWeight = {[1]=1.55,[2]=7.19,[3]=8.96,[4]=0.97,[5]=2.71,[6]=4.54,[7]=4,[8]=1.55}\n\nlocal maxWitdh = 46.5\n\n\nmaxContainerPure = 83200 --export: Max Tier1 Container Volume\nmaxContainerOre = 332800 --export: Max Tier1 Container Volume\n\n\n-- Container_calcium\nlocal containerMass_calcium = math.ceil(container_calcium.getItemsMass()/oreWeight[1])\nlocal percentcalcium = math.ceil((containerMass_calcium/maxContainerPure)*100)\nlocal calciumStatus = resourcesStatus(percentcalcium)\nlocal calciumFactor = maxWitdh/maxContainerPure\nlocal calciumBarStatus = containerMass_calcium*calciumFactor\nlocal calciumStockStatus = calciumStock(percentcalcium)\nlocal containerVolumecalcium = converUnit(containerMass_calcium) \n    \n-- Container_chrome\nlocal containerMass_chrome = math.ceil(container_chrome.getItemsMass()/oreWeight[2])\nlocal percentchrome = math.ceil((containerMass_chrome/maxContainerPure)*100)\nlocal chromeStatus = resourcesStatus(percentchrome)\nlocal chromeFactor = maxWitdh/maxContainerPure\nlocal chromeBarStatus = containerMass_chrome*chromeFactor\nlocal chromeStockStatus = chromeStock(percentchrome)\nlocal containerVolumechrome = converUnit(containerMass_chrome)\n    \n-- Container_copper\nlocal containerMass_copper = math.ceil(container_copper.getItemsMass()/oreWeight[3])\nlocal percentcopper = math.ceil((containerMass_copper/maxContainerPure)*100)\nlocal copperStatus = resourcesStatus(percentcopper)\nlocal copperFactor = maxWitdh/maxContainerPure\nlocal copperBarStatus = containerMass_copper*copperFactor\nlocal copperStockStatus = copperStock(percentcopper)\nlocal containerVolumecopper = converUnit(containerMass_copper)\n    \n-- Container_sodium\nlocal containerMass_sodium = math.ceil(container_sodium.getItemsMass()/oreWeight[4])\nlocal percentsodium = math.ceil((containerMass_sodium/maxContainerPure)*100)\nlocal sodiumStatus = resourcesStatus(percentsodium)\nlocal sodiumFactor = maxWitdh/maxContainerPure\nlocal sodiumBarStatus = containerMass_sodium*sodiumFactor\nlocal sodiumStockStatus = sodiumStock(percentsodium)\nlocal containerVolumesodium = converUnit(containerMass_sodium)\n\n-- Container_limestone\nlocal containerMass_limestone = math.ceil(container_limestone.getItemsMass()/oreWeight[5])\nlocal percentlimestone = math.ceil((containerMass_limestone/maxContainerOre)*100)\nlocal limestoneStatus = resourcesStatus(percentlimestone)\nlocal limestoneFactor = maxWitdh/maxContainerOre\nlocal limestoneBarStatus = containerMass_limestone*limestoneFactor\n--local limestoneStockStatus = limestoneStock(percentlimestone)\nlocal containerVolumelimestone = converUnit(containerMass_limestone) \n    \n-- Container_chromite\nlocal containerMass_chromite = math.ceil(container_chromite.getItemsMass()/oreWeight[6])\nlocal percentchromite = math.ceil((containerMass_chromite/maxContainerOre)*100)\nlocal chromiteStatus = resourcesStatus(percentchromite)\nlocal chromiteFactor = maxWitdh/maxContainerOre\nlocal chromiteBarStatus = containerMass_chromite*chromiteFactor\n--local chromiteStockStatus = chromiteStock(percentchromite)\nlocal containerVolumechromite = converUnit(containerMass_chromite)\n    \n-- Container_malachite\nlocal containerMass_malachite = math.ceil(container_malachite.getItemsMass()/oreWeight[7])\nlocal percentmalachite = math.ceil((containerMass_malachite/maxContainerOre)*100)\nlocal malachiteStatus = resourcesStatus(percentmalachite)\nlocal malachiteFactor = maxWitdh/maxContainerOre\nlocal malachiteBarStatus = containerMass_malachite*malachiteFactor\n--local malachiteStockStatus = malachiteStock(percentmalachite)\nlocal containerVolumemalachite = converUnit(containerMass_malachite)\n    \n-- Container_natron\nlocal containerMass_natron = math.ceil(container_natron.getItemsMass()/oreWeight[8])\nlocal percentnatron = math.ceil((containerMass_natron/maxContainerOre)*100)\nlocal natronStatus = resourcesStatus(percentnatron)\nlocal natronFactor = maxWitdh/maxContainerOre\nlocal natronBarStatus = containerMass_natron*natronFactor\n--local natronStockStatus = natronStock(percentnatron)\nlocal containerVolumenatron = converUnit(containerMass_natron)\n\nmessage = messagePrint(percentcalcium, percentchrome, percentcopper, percentsodium)\n\nlocal view = [[\n<html>\n<head>\n</head>\n\n<style>\nem {\n\tfont-weight: bold;\n}\n\n.calcium {\n\ttext-shadow: 0 0px 2px rgba(0, 90, 164, 0.8);\n\tcolor: rgba(0, 90, 164, 0.8);\n}\n.chrome {\n\ttext-shadow: 0 0px 2px rgba(114, 255, 164, 0.8);\n\tcolor: rgba(114, 255, 164, 0.8);\n}\n.copper {\n\ttext-shadow: 0 0px 2px rgba(248, 143, 49, 0.8);\n\tcolor: rgba(248, 143, 49, 0.8);\n}\n.sodium {\n\ttext-shadow: 0 0px 2px rgba(255, 126, 164, 0.8);\n\tcolor: rgba(255, 126, 164, 0.8);\n}\n\n.weak {\n\tanimation: faible 1s infinite alternate;\n}\n\n\nbody {\n\twidth:100%;\n\tbackground-color: rgba(0, 0, 0, 1);\n}\n\n.progress-bar {\n\toverflow: visible;\n\twhite-space: nowrap;\n\theight: 70%;\n\tbox-shadow: 0 0vw 0.2vw rgba(0, 0, 0, 0.8);\n}\n\n\t.progress-bar-calcium {\n\t\twidth: ]].. calciumBarStatus .. [[vw;\n\t\t]] .. calciumStatus .. [[\n\t}\n\n\t.progress-bar-chrome {\n\t\twidth: ]].. chromeBarStatus ..[[vw;\n\t\t]] .. chromeStatus .. [[\n\t}\n\n\t.progress-bar-copper {\n\t\twidth: ]].. copperBarStatus ..[[vw;\n\t\t]] .. copperStatus .. [[\n\t}\n\n\t.progress-bar-sodium {\n\t\twidth: ]].. sodiumBarStatus ..[[vw;\n\t\t]] .. sodiumStatus .. [[\n\t}\n\n.progress-bar2 {\n\tfont-size: 2vw;\n\toverflow: visible;\n\twhite-space: nowrap;\n\theight: 30%;\n\tbox-shadow: 0 0vw 0.1vw rgba(0, 0, 0, 0.4);\n}\n\n\t.progress-bar-limestone {\n\t\twidth: ]].. limestoneBarStatus .. [[vw;\n\t\t]] .. limestoneStatus .. [[\n\t}\n\n\t.progress-bar-chromite {\n\t\twidth: ]].. chromiteBarStatus ..[[vw;\n\t\t]] .. chromiteStatus .. [[\n\t}\n\n\t.progress-bar-malachite {\n\t\twidth: ]].. malachiteBarStatus ..[[vw;\n\t\t]] .. malachiteStatus .. [[\n\t}\n\n\t.progress-bar-natron {\n\t\twidth: ]].. natronBarStatus ..[[vw;\n\t\t]] .. natronStatus .. [[\n\t}\n\n /*Parent container*/\n\n.prime {\n\twitdh : auto;\n\tposition: absolute;\n\tleft: 2.58vw;\n\tanimation: show 1s ease-in;\n}\n\t.title h1 {\n\t\tfont-size: 8vw;\n\t\ttext-align: center;\n\t\tpadding: 0.51vw;\n}\n\t.container {\n\t\ttext-align: center;\n\t\twidth: 50vw;\n\t\tdisplay: grid;\n\t\tgrid-template-rows: 9vw;\n\t\tgrid-template-columns: 25.8vw 20.64vw 100%;\n\t\talign-items: center;\n\t\tpadding: 1vw;\n}\n\t\t.container_message {\n    \t\topacity:  ]] .. message.. [[ ;\n\t\t\ttext-align: center;\n\t\t\twidth: 100vw;\n\t\t\tdisplay: inherit flex;\n\t\t\talign-items: center;\n\t\t\tpadding-right: 2.58vw;\n\t\t\tpadding-top: 2.58vw;\n}\n\n/*Child container*/\n\t.span {\nposition: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n\n\t.item_container {\n\t\tjustify-self: auto;\n  \t\tpadding: 1.03vw;\n\t\theight: 100%;\n  \t\tfont-size: 3.5vw;\n\t\tposition: relative;\n\t\tvertical-align: middle;\n  \t\ttext-align: center;\t\t\n  \t\tcolor: white;\n\t}\n\n\t.item_container_calcium {\n          background-color: rgba(0, 90, 164, 0.4);\n          border: 0.2vw solid rgba(0, 90, 164, 1);\t\n\t}\n\t.item_container_chrome {\n\t\tbackground-color: rgba(114, 255, 164, 0.4);\n\t\tborder: 0.2vw solid rgba(114, 255, 164, 8);\n\t}\n\t.item_container_copper {\n\t\tbackground-color: rgba(248, 143, 49, 0.4);\n\t\tborder: 0.2vw solid rgba(248, 143, 49, 1);\n\t}\n\t.item_container_sodium {\n\t\tbackground-color: rgba(255, 126, 164, 0.4);\n\t\tborder: 0.2vw solid rgba(255, 126, 164, 1);\n\t}\n\n\t\t.item_container_calcium--1 {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\n\t\t}\n\t\t.item_container_chrome--1 {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\n\t\t}\n\t\t.item_container_copper--1 {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\n\t\t}\n\t\t.item_container_sodium--1 {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\n\t\t\tz-index: 2;\n\t\t}\n\n\t\t.infos_title {\n\t\t\tposition: relative;\n\t\t\tleft: 34.83vw;\n\t\t\tcolor: red;\n\t\t\tmargin-bottom: 3.09vw;\n\t\t\twidth: 25.8vw;\n\t\t\tfont-weight: bold;\n\t\t\tborder-bottom: 0.31vw solid red;\n\t\t\tfont-size: 3.92vw;\n\t\t\tanimation: urgent 2s infinite alternate;\n\t\t}\n\t\t.item_container_message {\n\t\t\tjustify-self: center;\n\t\t\talign-items: center;\n  \t\t\tfont-size: 3.09vw;\n  \t\t\ttext-align: center;\n  \t\t\tcolor: white;\n\t\t\tpadding-right: 0.16vw;\n\t\t}\n\n@keyframes show {\n\t0% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes faible {\n\t0% {\n\t\ttransform: scale(0.95);\n\t}\n\t100% {\n\t\ttransform: scale(1);\n\t}\n}\n\n@keyframes urgent {\n\t0% {\n\t\ttransform: scale(1.25);\n\t}\n\t100% {\n\t\ttransform: scale(1.5);\n \t}\n}\n\n</style>\n\n<!-- CONTAINER -->\n<header>\n\t<div class=\"title\">\n\t\t<h1>Tier 2 Pure</h1>\n\t</div>\n</header>\n\n<body>\n<div class=\"prime\">\n<div class=\"container\">\n\t<div class=\"container container__block--1\">\n\t\t<div class=\"item_container item_container_calcium\">\n          \t<span class=\"span\">]].. oreType[1] ..[[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_calcium\">\n        \t<span class=\"span\">]] .. containerVolumecalcium .. [[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_calcium item_container_calcium--1\">\n\t\t\t<div class=\"progress-bar progress-bar-calcium\"> \n\t\t\t\t]] .. percentcalcium .. [[ %\n\t\t\t</div>\n\t\t\t<div class=\"progress-bar2 progress-bar-limestone\"> \n\t\t\t\t]] .. containerVolumelimestone .. [[\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=\"container\">\n\t<div class=\"container container__block--2\">\n\t\t<div class=\"item_container item_container_chrome\">\n          \t<span class=\"span\">]].. oreType[2] ..[[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_chrome\">\n        \t<span class=\"span\">]] .. containerVolumechrome .. [[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_chrome item_container_chrome--1\">\n\t\t   \t<div class=\"progress-bar progress-bar-chrome\"> \n\t\t\t\t]] .. percentchrome .. [[ %\n\t\t\t</div>\n\t\t\t<div class=\"progress-bar2 progress-bar-chromite\"> \n\t\t\t\t]] .. containerVolumechromite .. [[\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=\"container\">\n\t<div class=\"container container__block--3\">\n\t\t<div class=\"item_container item_container_copper\">\n          \t<span class=\"span\">]].. oreType[3] ..[[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_copper\">\n        \t<span class=\"span\">]] .. containerVolumecopper .. [[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_copper item_container_copper--1\">\n\t\t   \t<div class=\"progress-bar progress-bar-copper\"> \n\t\t\t\t]] .. percentcopper .. [[ %\n\t\t\t</div>\n\t\t\t<div class=\"progress-bar2 progress-bar-malachite\"> \n\t\t\t\t]] .. containerVolumemalachite .. [[\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=\"container\">\n\t<div class=\"container container__block--4\">\n\t\t<div class=\"item_container item_container_sodium\">\n          \t<span class=\"span\">]].. oreType[4] ..[[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_sodium\">\n        \t<span class=\"span\">]] .. containerVolumesodium .. [[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_sodium item_container_sodium--1\">\n\t\t   \t<div class=\"progress-bar progress-bar-sodium\"> \n\t\t\t\t]] .. percentsodium .. [[ %\n\t\t\t</div>\n\t\t\t<div class=\"progress-bar2 progress-bar-natron\"> \n\t\t\t\t]] .. containerVolumenatron .. [[\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n</body>\n</html>\n]]\n\nscreen.setHTML(view)","filter":{"args":[],"signature":"start()","slotKey":"-1"},"key":"0"}],"methods":[],"events":[]}
