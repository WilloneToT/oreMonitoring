{"slots":{"0":{"name":"container_niobium","type":{"events":[],"methods":[]}},"1":{"name":"container_titanium","type":{"events":[],"methods":[]}},"2":{"name":"container_manganese","type":{"events":[],"methods":[]}},"3":{"name":"container_vanadium","type":{"events":[],"methods":[]}},"4":{"name":"container_columbite","type":{"events":[],"methods":[]}},"5":{"name":"container_illmenite","type":{"events":[],"methods":[]}},"6":{"name":"container_rhodonite","type":{"events":[],"methods":[]}},"7":{"name":"container_vanadinite","type":{"events":[],"methods":[]}},"8":{"name":"screen","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-2":{"name":"system","type":{"events":[],"methods":[]}},"-3":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"unit.hide()\nfunction round(num, dec)\n  local mult = 10^(dec or 0)\n  return math.floor(num * mult + 0.5) / mult\nend\n\nfunction converUnit(oreStock)\n     printL = [[L]]\n     printKl = [[Kl]]\n     printMl = [[Ml]]\n     converToL = oreStock\n     converToKl = math.floor(oreStock/1000)\n     converToMl = oreStock/1000000\n    if oreStock <= 9999 then return\n         converToL ..printL\n         elseif oreStock >= 10000 and oreStock < 1000000 then return\n         converToKl ..printKl\n         elseif oreStock >= 1000000 then return\n         round(converToMl, 2) ..printMl\n        end\n    end\n\nfunction messagePrint(a, b, c, d)\n\tmessageOn = [[ 0;]]\n     messageOff = [[ 1;]]  \n    if a > 26 and b >26 and c >26 and d >26 then return\n--        \tmessageOn\n        \tmessageOff\n        else return\n        \tmessageOff\n        end\n    end\n    \n\nfunction resourcesStatus(percent)        \n    if percent <= 25 then return [[\n\t   \tbackground: rgb(27,0,0);\n\t\tbackground: linear-gradient(90deg, rgba(27,0,0,1) 0%, rgba(129,23,23,0.5) 25%, rgba(251,0,0,0.5) 100%);\n        ]]\n       elseif percent > 25 and percent < 60 then return [[\n\t\tbackground: rgb(27,0,0);\n\t\tbackground: linear-gradient(90deg, rgba(27,0,0,1) 0%, rgba(129,101,23,1) 25%, rgba(251,202,0,1) 100%)\n        ]]\n        else return [[\n\t\tbackground: rgb(5,27,0);\n\t\tbackground: linear-gradient(90deg, rgba(5,27,0,1) 0%, rgba(38,129,23,1) 25%, rgba(34,251,0,1) 100%);\n        ]]\n        end\n    end\n\nlocal coma = \", \"\n\nfunction niobiumStock(percent)\n    \n    local niobiumType = oreType[1] ..coma\n    local niobiumOk = \"\"\n    \tif percent <=25 then return\n        \tniobiumType\n        else return\n        \tniobiumOk     \t\n        end\n     end\n\nfunction titaniumStock(percent)\n    local titaniumType = oreType[2] ..coma\n    local titaniumOk = \"\"\n    \tif percent <=25 then return\n        \ttitaniumType      \n        else return\n        \ttitaniumOk\n        end\n     end\n\nfunction manganeseStock(percent)\n    local manganeseType = oreType[3] ..coma\n    local manganeseOk = \"\"\n    \tif percent <=25 then return\n        \tmanganeseType\n        else return\n        \tmanganeseOk\n        end\n     end\n\nfunction vanadiumStock(percent)\n    local vanadiumType = oreType[4]\n    local vanadiumOk = \"\"\n    \tif percent <=25 then return     \t\n        \tvanadiumType\n        else return\n        \tvanadiumOk\t\n        end\n     end\n\noreType = {[1]=\"niobium\",[2]=\"titanium\",[3]=\"manganese\",[4]=\"vanadium\",[5]=\"columbite\",[6]=\"illmenite\",[7]=\"rhodonite\",[8]=\"vanadinite\"}\noreWeight = {[1]=8.57,[2]=4.51,[3]=7.21,[4]=6,[5]=5.38,[6]=4.55,[7]=3.76,[8]=6.95}\n\nlocal maxWitdh = 46.5\n\nmaxContainerPure = 192000 --export: Max Tier1 Container Volume\nmaxContainerOre = 192000 --export: Max Tier1 Container Volume\n\n-- Container_niobium\nlocal containerMass_niobium = math.ceil(container_niobium.getItemsMass()/oreWeight[1])\nlocal percentniobium = math.ceil((containerMass_niobium/maxContainerPure)*100)\nlocal niobiumStatus = resourcesStatus(percentniobium)\nlocal niobiumFactor = maxWitdh/maxContainerPure\nlocal niobiumBarStatus = containerMass_niobium*niobiumFactor\nlocal niobiumStockStatus = niobiumStock(percentniobium)\nlocal containerVolumeniobium = converUnit(containerMass_niobium) \n    \n-- Container_titanium\nlocal containerMass_titanium = math.ceil(container_titanium.getItemsMass()/oreWeight[2])\nlocal percenttitanium = math.ceil((containerMass_titanium/maxContainerPure)*100)\nlocal titaniumStatus = resourcesStatus(percenttitanium)\nlocal titaniumFactor = maxWitdh/maxContainerPure\nlocal titaniumBarStatus = containerMass_titanium*titaniumFactor\nlocal titaniumStockStatus = titaniumStock(percenttitanium)\nlocal containerVolumetitanium = converUnit(containerMass_titanium)\n    \n-- Container_manganese\nlocal containerMass_manganese = math.ceil(container_manganese.getItemsMass()/oreWeight[3])\nlocal percentmanganese = math.ceil((containerMass_manganese/maxContainerPure)*100)\nlocal manganeseStatus = resourcesStatus(percentmanganese)\nlocal manganeseFactor = maxWitdh/maxContainerPure\nlocal manganeseBarStatus = containerMass_manganese*manganeseFactor\nlocal manganeseStockStatus = manganeseStock(percentmanganese)\nlocal containerVolumemanganese = converUnit(containerMass_manganese)\n    \n-- Container_vanadium\nlocal containerMass_vanadium = math.ceil(container_vanadium.getItemsMass()/oreWeight[4])\nlocal percentvanadium = math.ceil((containerMass_vanadium/maxContainerPure)*100)\nlocal vanadiumStatus = resourcesStatus(percentvanadium)\nlocal vanadiumFactor = maxWitdh/maxContainerPure\nlocal vanadiumBarStatus = containerMass_vanadium*vanadiumFactor\nlocal vanadiumStockStatus = vanadiumStock(percentvanadium)\nlocal containerVolumevanadium = converUnit(containerMass_vanadium)\n\n-- Container_columbite\nlocal containerMass_columbite = math.ceil(container_columbite.getItemsMass()/oreWeight[5])\nlocal percentcolumbite = math.ceil((containerMass_columbite/maxContainerOre)*100)\nlocal columbiteStatus = resourcesStatus(percentcolumbite)\nlocal columbiteFactor = maxWitdh/maxContainerOre\nlocal columbiteBarStatus = containerMass_columbite*columbiteFactor\n--local columbiteStockStatus = columbiteStock(percentcolumbite)\nlocal containerVolumecolumbite = converUnit(containerMass_columbite) \n    \n-- Container_illmenite\nlocal containerMass_illmenite = math.ceil(container_illmenite.getItemsMass()/oreWeight[6])\nlocal percentillmenite = math.ceil((containerMass_illmenite/maxContainerOre)*100)\nlocal illmeniteStatus = resourcesStatus(percentillmenite)\nlocal illmeniteFactor = maxWitdh/maxContainerOre\nlocal illmeniteBarStatus = containerMass_illmenite*illmeniteFactor\n--local illmeniteStockStatus = illmeniteStock(percentillmenite)\nlocal containerVolumeillmenite = converUnit(containerMass_illmenite)\n    \n-- Container_rhodonite\nlocal containerMass_rhodonite = math.ceil(container_rhodonite.getItemsMass()/oreWeight[7])\nlocal percentrhodonite = math.ceil((containerMass_rhodonite/maxContainerOre)*100)\nlocal rhodoniteStatus = resourcesStatus(percentrhodonite)\nlocal rhodoniteFactor = maxWitdh/maxContainerOre\nlocal rhodoniteBarStatus = containerMass_rhodonite*rhodoniteFactor\n--local rhodoniteStockStatus = rhodoniteStock(percentrhodonite)\nlocal containerVolumerhodonite = converUnit(containerMass_rhodonite)\n    \n-- Container_vanadinite\nlocal containerMass_vanadinite = math.ceil(container_vanadinite.getItemsMass()/oreWeight[8])\nlocal percentvanadinite = math.ceil((containerMass_vanadinite/maxContainerOre)*100)\nlocal vanadiniteStatus = resourcesStatus(percentvanadinite)\nlocal vanadiniteFactor = maxWitdh/maxContainerOre\nlocal vanadiniteBarStatus = containerMass_vanadinite*vanadiniteFactor\n--local vanadiniteStockStatus = vanadiniteStock(percentvanadinite)\nlocal containerVolumevanadinite = converUnit(containerMass_vanadinite)\n\nmessage = messagePrint(percentniobium, percenttitanium, percentmanganese, percentvanadium)\n\nlocal view = [[\n<html>\n<head>\n</head>\n\n<style>\nem {\n\tfont-weight: bold;\n}\n\n.niobium {\n\ttext-shadow: 0 0px 0.11vw rgba(71, 157, 250, 0.8);\n\tcolor: rgba(71, 157, 250, 0.8);\n}\n.titanium {\n\ttext-shadow: 0 0px 0.11vw rgba(250, 232, 71, 0.8);\n\tcolor: rgba(250, 232, 71, 0.8);\n}\n\n.manganese {\n\ttext-shadow: 0 0px 0.11vw rgba(146, 146, 174, 0.8);\n\tcolor: rgba(146, 146, 174, 0.8);\n}\n.vanadium {\n\ttext-shadow: 0 0px 0.11vw rgba(249, 112, 112, 0.8);\n\tcolor: rgba(249, 112, 112, 0.8);\n}\n\n.weak {\n\tanimation: faible 1s infinite alternate;\n}\n\n\nbody {\n\twidth:100%;\n\tbackground-color: rgba(0, 0, 0, 1);\n}\n\n.progress-bar {\n\toverflow: visible;\n\twhite-space: nowrap;\n\theight: 70%;\n\tbox-shadow: 0 0vw 0.2vw rgba(0, 0, 0, 0.8);\n}\n\n\t.progress-bar-niobium {\n\t\twidth: ]].. niobiumBarStatus .. [[vw;\n\t\t]] .. niobiumStatus .. [[\n\t}\n\n\t.progress-bar-titanium {\n\t\twidth: ]].. titaniumBarStatus ..[[vw;\n\t\t]] .. titaniumStatus .. [[\n\t}\n\n\t.progress-bar-manganese {\n\t\twidth: ]].. manganeseBarStatus ..[[vw;\n\t\t]] .. manganeseStatus .. [[\n\t}\n\n\t.progress-bar-vanadium {\n\t\twidth: ]].. vanadiumBarStatus ..[[vw;\n\t\t]] .. vanadiumStatus .. [[\n\t}\n\n.progress-bar2 {\n\tfont-size: 2vw;\n\toverflow: visible;\n\twhite-space: nowrap;\n\theight: 30%;\n\tbox-shadow: 0 0vw 0.1vw rgba(0, 0, 0, 0.4);\n}\n\n\t.progress-bar-columbite {\n\t\twidth: ]].. columbiteBarStatus .. [[vw;\n\t\t]] .. columbiteStatus .. [[\n\t}\n\n\t.progress-bar-illmenite {\n\t\twidth: ]].. illmeniteBarStatus ..[[vw;\n\t\t]] .. illmeniteStatus .. [[\n\t}\n\n\t.progress-bar-rhodonite {\n\t\twidth: ]].. rhodoniteBarStatus ..[[vw;\n\t\t]] .. rhodoniteStatus .. [[\n\t}\n\n\t.progress-bar-vanadinite {\n\t\twidth: ]].. vanadiniteBarStatus ..[[vw;\n\t\t]] .. vanadiniteStatus .. [[\n\t}\n\n /*Parent container*/\n\n.prime {\n\twitdh : auto;\n\tposition: absolute;\n\tleft: 2.58vw;\n\tanimation: show 1s ease-in;\n}\n\t.title h1 {\n\t\tfont-size: 8vw;\n\t\ttext-align: center;\n\t\tpadding: 0.51vw;\n}\n\t.container {\n\t\ttext-align: center;\n\t\twidth: 50vw;\n\t\tdisplay: grid;\n\t\tgrid-template-rows: 9vw;\n\t\tgrid-template-columns: 25.8vw 20.64vw 100%;\n\t\talign-items: center;\n\t\tpadding: 1vw;\n}\n\t\t.container_message {\n    \t\topacity:  ]] .. message.. [[ ;\n\t\t\ttext-align: center;\n\t\t\twidth: 100vw;\n\t\t\tdisplay: inherit flex;\n\t\t\talign-items: center;\n\t\t\tpadding-right: 2.58vw;\n\t\t\tpadding-top: 2.58vw;\n}\n\n/*Child container*/\n\t.span {\nposition: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n\n\t.item_container {\n\t\tjustify-self: auto;\n  \t\tpadding: 1.03vw;\n\t\theight: 100%;\n  \t\tfont-size: 3.5vw;\n\t\tposition: relative;\n\t\tvertical-align: middle;\n  \t\ttext-align: center;\t\t\n  \t\tcolor: white;\n\t}\n\n\t.item_container_niobium {\n        background-color: rgba(71, 157, 250, 0.4);\n        border: 0.2vw solid rgba(71, 157, 250, 1);\n\t}\n\t.item_container_titanium {\n\t\tbackground-color: rgba(250, 232, 71, 0.4);\n\t\tborder: 0.2vw solid rgba(250, 232, 71, 1);\n\t}\n\t.item_container_manganese {\n\t\tbackground-color: rgba(146, 146, 174, 0.4);\n\t\tborder: 0.2vw solid rgba(146, 146, 174, 1);\n\t}\n\t.item_container_vanadium {\n\t\tbackground-color: rgba(249, 112, 112, 0.4);\n\t\tborder: 0.2vw solid rgba(249, 112, 112, 1);\n\t}\n\n\t\t.item_container_niobium--1 {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\n\t\t}\n\t\t.item_container_titanium--1 {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\n\t\t}\n\t\t.item_container_manganese--1 {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\n\t\t}\n\t\t.item_container_vanadium--1 {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\n\t\t\tz-index: 2;\n\t\t}\n\n\t\t.infos_title {\n\t\t\tposition: relative;\n\t\t\tleft: 34.83vw;\n\t\t\tcolor: red;\n\t\t\tmargin-bottom: 3.09vw;\n\t\t\twidth: 25.8vw;\n\t\t\tfont-weight: bold;\n\t\t\tborder-bottom: 0.31vw solid red;\n\t\t\tfont-size: 3.92vw;\n\t\t\tanimation: urgent 2s infinite alternate;\n\t\t}\n\t\t.item_container_message {\n\t\t\tjustify-self: center;\n\t\t\talign-items: center;\n  \t\t\tfont-size: 3.09vw;\n  \t\t\ttext-align: center;\n  \t\t\tcolor: white;\n\t\t\tpadding-right: 0.16vw;\n\t\t}\n\n@keyframes show {\n\t0% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes faible {\n\t0% {\n\t\ttransform: scale(0.95);\n\t}\n\t100% {\n\t\ttransform: scale(1);\n\t}\n}\n\n@keyframes urgent {\n\t0% {\n\t\ttransform: scale(1.25);\n\t}\n\t100% {\n\t\ttransform: scale(1.5);\n \t}\n}\n\n</style>\n\n<!-- CONTAINER -->\n<header>\n\t<div class=\"title\">\n\t\t<h1>Tier 5 Pure</h1>\n\t</div>\n</header>\n\n<body>\n<div class=\"prime\">\n<div class=\"container\">\n\t<div class=\"container container__block--1\">\n\t\t<div class=\"item_container item_container_niobium\">\n          \t<span class=\"span\">]].. oreType[1] ..[[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_niobium\">\n        \t<span class=\"span\">]] .. containerVolumeniobium .. [[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_niobium item_container_niobium--1\">\n\t\t\t<div class=\"progress-bar progress-bar-niobium\"> \n\t\t\t\t]] .. percentniobium .. [[ %\n\t\t\t</div>\n\t\t\t<div class=\"progress-bar2 progress-bar-columbite\"> \n\t\t\t\t]] .. containerVolumecolumbite .. [[\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=\"container\">\n\t<div class=\"container container__block--2\">\n\t\t<div class=\"item_container item_container_titanium\">\n          \t<span class=\"span\">]].. oreType[2] ..[[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_titanium\">\n        \t<span class=\"span\">]] .. containerVolumetitanium .. [[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_titanium item_container_titanium--1\">\n\t\t   \t<div class=\"progress-bar progress-bar-titanium\"> \n\t\t\t\t]] .. percenttitanium .. [[ %\n\t\t\t</div>\n\t\t\t<div class=\"progress-bar2 progress-bar-illmenite\"> \n\t\t\t\t]] .. containerVolumeillmenite .. [[\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=\"container\">\n\t<div class=\"container container__block--3\">\n\t\t<div class=\"item_container item_container_manganese\">\n          \t<span class=\"span\">]].. oreType[3] ..[[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_manganese\">\n        \t<span class=\"span\">]] .. containerVolumemanganese .. [[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_manganese item_container_manganese--1\">\n\t\t   \t<div class=\"progress-bar progress-bar-manganese\"> \n\t\t\t\t]] .. percentmanganese .. [[ %\n\t\t\t</div>\n\t\t\t<div class=\"progress-bar2 progress-bar-rhodonite\"> \n\t\t\t\t]] .. containerVolumerhodonite .. [[\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=\"container\">\n\t<div class=\"container container__block--4\">\n\t\t<div class=\"item_container item_container_vanadium\">\n          \t<span class=\"span\">]].. oreType[4] ..[[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_vanadium\">\n        \t<span class=\"span\">]] .. containerVolumevanadium .. [[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_vanadium item_container_vanadium--1\">\n\t\t   \t<div class=\"progress-bar progress-bar-vanadium\"> \n\t\t\t\t]] .. percentvanadium .. [[ %\n\t\t\t</div>\n\t\t\t<div class=\"progress-bar2 progress-bar-vanadinite\"> \n\t\t\t\t]] .. containerVolumevanadinite .. [[\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<!--\n<div class=\"container_message\">\n\t<div class=\"item_container\">\n\t\t<div class=\"infos_title\">\n\t\t\tALERT\n\t\t</div>\n\n\t\t<div class=\"item_container_message\">\n\t\t\t<div class=\"infos_message\">\n\t\t\t\t<div class=\"weak\">\n\t\t\t\tLow stock of \n\t\t\t\t<em class=\"niobium\">]].. niobiumStockStatus ..[[</em>\n\t\t\t\t<em class=\"titanium\">]].. titaniumStockStatus ..[[</em>\n\t\t\t\t<em class=\"manganese\">]].. manganeseStockStatus ..[[</em>\n\t\t\t\t<em class=\"vanadium\">]].. vanadiumStockStatus ..[[</em>\n\t\t\t\t<br>\n\t\t\t\tMiners have to work !\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n-->\n\n</body>\n</html>\n]]\n\nscreen.setHTML(view)","filter":{"args":[],"signature":"start()","slotKey":"-1"},"key":"0"}],"methods":[],"events":[]}
