{"slots":{"0":{"name":"container_carbon","type":{"events":[],"methods":[]}},"1":{"name":"container_iron","type":{"events":[],"methods":[]}},"2":{"name":"container_silicon","type":{"events":[],"methods":[]}},"3":{"name":"container_aluminium","type":{"events":[],"methods":[]}},"4":{"name":"container_coal","type":{"events":[],"methods":[]}},"5":{"name":"container_hematite","type":{"events":[],"methods":[]}},"6":{"name":"container_quartz","type":{"events":[],"methods":[]}},"7":{"name":"container_bauxite","type":{"events":[],"methods":[]}},"8":{"name":"screen","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-2":{"name":"system","type":{"events":[],"methods":[]}},"-3":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"unit.hide()\nfunction round(num, dec)\n  local mult = 10^(dec or 0)\n  return math.floor(num * mult + 0.5) / mult\nend\n\nfunction converUnit(oreStock)\n     printL = [[L]]\n     printKl = [[Kl]]\n     printMl = [[Ml]]\n     converToL = oreStock\n     converToKl = math.floor(oreStock/1000)\n     converToMl = oreStock/1000000\n    if oreStock <= 9999 then return\n         converToL ..printL\n         elseif oreStock >= 10000 and oreStock < 1000000 then return\n         converToKl ..printKl\n         elseif oreStock >= 1000000 then return\n         round(converToMl, 2) ..printMl\n        end\n    end\n\nfunction messagePrint(a, b, c, d)\n\tmessageOn = [[ 0;]]\n     messageOff = [[ 1;]]  \n    if a > 26 and b >26 and c >26 and d >26 then return\n        \tmessageOn\n        else return\n        \tmessageOff\n        end\n    end\n    \n\nfunction resourcesStatus(percent)        \n    if percent <= 25 then return [[\n\t   \tbackground: rgb(27,0,0);\n\t\tbackground: linear-gradient(90deg, rgba(27,0,0,1) 0%, rgba(129,23,23,0.5) 25%, rgba(251,0,0,0.5) 100%);\n        ]]\n       elseif percent > 25 and percent < 60 then return [[\n\t\tbackground: rgb(27,0,0);\n\t\tbackground: linear-gradient(90deg, rgba(27,0,0,1) 0%, rgba(129,101,23,1) 25%, rgba(251,202,0,1) 100%)\n        ]]\n        else return [[\n\t\tbackground: rgb(5,27,0);\n\t\tbackground: linear-gradient(90deg, rgba(5,27,0,1) 0%, rgba(38,129,23,1) 25%, rgba(34,251,0,1) 100%);\n        ]]\n        end\n    end\n\nlocal coma = \", \"\n\nfunction carbonStock(percent)\n    \n    local carbonType = oreType[1] ..coma\n    local carbonOk = \"\"\n    \tif percent <=25 then return\n        \tcarbonType\n        else return\n        \tcarbonOk     \t\n        end\n     end\n\nfunction ironStock(percent)\n    local ironType = oreType[2] ..coma\n    local ironOk = \"\"\n    \tif percent <=25 then return\n        \tironType      \n        else return\n        \tironOk\n        end\n     end\n\nfunction siliconStock(percent)\n    local siliconType = oreType[3] ..coma\n    local siliconOk = \"\"\n    \tif percent <=25 then return\n        \tsiliconType\n        else return\n        \tsiliconOk\n        end\n     end\n\nfunction aluminiumStock(percent)\n    local aluminiumType = oreType[4]\n    local aluminiumOk = \"\"\n    \tif percent <=25 then return     \t\n        \taluminiumType\n        else return\n        \taluminiumOk\t\n        end\n     end\n\noreType = {[1]=\"carbon\",[2]=\"Iron\",[3]=\"Silicone\",[4]=\"Aluminium\",[5]=\"Coal\",[6]=\"Hematite\",[7]=\"Quartz\",[8]=\"Bauxite\"}\noreWeight = {[1]=2.27,[2]=7.85,[3]=2.33,[4]=2.70,[5]=1.35,[6]=5.04,[7]=2.65,[8]=1.28}\n\nlocal maxWitdh = 46.5\n\nmaxContainerVolumeTier1 = 1920000 --export: Max Tier1 Container Volume\n\n-- Container_carbon\nlocal containerMass_carbon = math.ceil(container_carbon.getItemsMass()/oreWeight[1])\nlocal percentcarbon = math.ceil((containerMass_carbon/maxContainerVolumeTier1)*100)\nlocal carbonStatus = resourcesStatus(percentcarbon)\nlocal carbonFactor = maxWitdh/maxContainerVolumeTier1\nlocal carbonBarStatus = containerMass_carbon*carbonFactor\nlocal carbonStockStatus = carbonStock(percentcarbon)\nlocal containerVolumecarbon = converUnit(containerMass_carbon) \n    \n-- Container_iron\nlocal containerMass_iron = math.ceil(container_iron.getItemsMass()/oreWeight[2])\nlocal percentiron = math.ceil((containerMass_iron/maxContainerVolumeTier1)*100)\nlocal ironStatus = resourcesStatus(percentiron)\nlocal ironFactor = maxWitdh/maxContainerVolumeTier1\nlocal ironBarStatus = containerMass_iron*ironFactor\nlocal ironStockStatus = ironStock(percentiron)\nlocal containerVolumeiron = converUnit(containerMass_iron)\n    \n-- Container_silicon\nlocal containerMass_silicon = math.ceil(container_silicon.getItemsMass()/oreWeight[3])\nlocal percentsilicon = math.ceil((containerMass_silicon/maxContainerVolumeTier1)*100)\nlocal siliconStatus = resourcesStatus(percentsilicon)\nlocal siliconFactor = maxWitdh/maxContainerVolumeTier1\nlocal siliconBarStatus = containerMass_silicon*siliconFactor\nlocal siliconStockStatus = siliconStock(percentsilicon)\nlocal containerVolumesilicon = converUnit(containerMass_silicon)\n    \n-- Container_aluminium\nlocal containerMass_aluminium = math.ceil(container_aluminium.getItemsMass()/oreWeight[4])\nlocal percentaluminium = math.ceil((containerMass_aluminium/maxContainerVolumeTier1)*100)\nlocal aluminiumStatus = resourcesStatus(percentaluminium)\nlocal aluminiumFactor = maxWitdh/maxContainerVolumeTier1\nlocal aluminiumBarStatus = containerMass_aluminium*aluminiumFactor\nlocal aluminiumStockStatus = aluminiumStock(percentaluminium)\nlocal containerVolumealuminium = converUnit(containerMass_aluminium)\n\n-- Container_coal\nlocal containerMass_coal = math.ceil(container_coal.getItemsMass()/oreWeight[5])\nlocal percentcoal = math.ceil((containerMass_coal/maxContainerVolumeTier1)*100)\nlocal coalStatus = resourcesStatus(percentcoal)\nlocal coalFactor = maxWitdh/maxContainerVolumeTier1\nlocal coalBarStatus = containerMass_coal*coalFactor\n--local coalStockStatus = coalStock(percentcoal)\nlocal containerVolumecoal = converUnit(containerMass_coal) \n    \n-- Container_Hematite\nlocal containerMass_hematite = math.ceil(container_hematite.getItemsMass()/oreWeight[6])\nlocal percenthematite = math.ceil((containerMass_hematite/maxContainerVolumeTier1)*100)\nlocal hematiteStatus = resourcesStatus(percenthematite)\nlocal hematiteFactor = maxWitdh/maxContainerVolumeTier1\nlocal hematiteBarStatus = containerMass_hematite*hematiteFactor\n--local hematiteStockStatus = hematiteStock(percenthematite)\nlocal containerVolumehematite = converUnit(containerMass_hematite)\n    \n-- Container_quartz\nlocal containerMass_quartz = math.ceil(container_quartz.getItemsMass()/oreWeight[7])\nlocal percentquartz = math.ceil((containerMass_quartz/maxContainerVolumeTier1)*100)\nlocal quartzStatus = resourcesStatus(percentquartz)\nlocal quartzFactor = maxWitdh/maxContainerVolumeTier1\nlocal quartzBarStatus = containerMass_quartz*quartzFactor\n--local quartzStockStatus = quartzStock(percentquartz)\nlocal containerVolumequartz = converUnit(containerMass_quartz)\n    \n-- Container_bauxite\nlocal containerMass_bauxite = math.ceil(container_bauxite.getItemsMass()/oreWeight[8])\nlocal percentbauxite = math.ceil((containerMass_bauxite/maxContainerVolumeTier1)*100)\nlocal bauxiteStatus = resourcesStatus(percentbauxite)\nlocal bauxiteFactor = maxWitdh/maxContainerVolumeTier1\nlocal bauxiteBarStatus = containerMass_bauxite*bauxiteFactor\n--local bauxiteStockStatus = bauxiteStock(percentbauxite)\nlocal containerVolumebauxite = converUnit(containerMass_bauxite)\n\nmessage = messagePrint(percentcarbon, percentiron, percentsilicon, percentaluminium)\n\nlocal view = [[\n<html>\n<head>\n</head>\n\n<style>\nem {\n\tfont-weight: bold;\n}\n\n.carbon {\n\ttext-shadow: 0 0px 2px rgba(131, 134, 138, 0.8);\n\tcolor: rgba(131, 134, 138, 0.8);\n}\n.iron {\n\ttext-shadow: 0 0px 2px rgba(255, 192, 113, 0.8);\n\tcolor: rgba(255, 192, 113, 0.8);\n}\n\n.silicon {\n\ttext-shadow: 0 0px 2px rgba(68, 199, 231, 0.8);\n\tcolor: rgba(68, 199, 231, 0.8);\n}\n.aluminium {\n\ttext-shadow: 0 0px 2px rgba(107, 77, 255, 0.8);\n\tcolor: rgba(107, 77, 255, 0.8);\n}\n\n.weak {\n\tanimation: faible 1s infinite alternate;\n}\n\n\nbody {\n\twidth:100%;\n\tbackground-color: rgba(0, 0, 0, 1);\n}\n\n.progress-bar {\n\toverflow: visible;\n\twhite-space: nowrap;\n\theight: 70%;\n\tbox-shadow: 0 0vw 0.2vw rgba(0, 0, 0, 0.8);\n}\n\n\t.progress-bar-carbon {\n\t\twidth: ]].. carbonBarStatus .. [[vw;\n\t\t]] .. carbonStatus .. [[\n\t}\n\n\t.progress-bar-iron {\n\t\twidth: ]].. ironBarStatus ..[[vw;\n\t\t]] .. ironStatus .. [[\n\t}\n\n\t.progress-bar-silicon {\n\t\twidth: ]].. siliconBarStatus ..[[vw;\n\t\t]] .. siliconStatus .. [[\n\t}\n\n\t.progress-bar-aluminium {\n\t\twidth: ]].. aluminiumBarStatus ..[[vw;\n\t\t]] .. aluminiumStatus .. [[\n\t}\n\n.progress-bar2 {\n\tfont-size: 2vw;\n\toverflow: visible;\n\twhite-space: nowrap;\n\theight: 30%;\n\tbox-shadow: 0 0vw 0.1vw rgba(0, 0, 0, 0.4);\n}\n\n\t.progress-bar-coal {\n\t\twidth: ]].. coalBarStatus .. [[vw;\n\t\t]] .. coalStatus .. [[\n\t}\n\n\t.progress-bar-hematite {\n\t\twidth: ]].. hematiteBarStatus ..[[vw;\n\t\t]] .. hematiteStatus .. [[\n\t}\n\n\t.progress-bar-quartz {\n\t\twidth: ]].. quartzBarStatus ..[[vw;\n\t\t]] .. quartzStatus .. [[\n\t}\n\n\t.progress-bar-bauxite {\n\t\twidth: ]].. bauxiteBarStatus ..[[vw;\n\t\t]] .. bauxiteStatus .. [[\n\t}\n\n /*Parent container*/\n\n.prime {\n\twitdh : auto;\n\tposition: absolute;\n\tleft: 2.58vw;\n\tanimation: show 1s ease-in;\n}\n\t.title h1 {\n\t\tfont-size: 8vw;\n\t\ttext-align: center;\n\t\tpadding: 0.51vw;\n}\n\t.container {\n\t\ttext-align: center;\n\t\twidth: 50vw;\n\t\tdisplay: grid;\n\t\tgrid-template-rows: 9vw;\n\t\tgrid-template-columns: 25.8vw 20.64vw 100%;\n\t\talign-items: center;\n\t\tpadding: 1vw;\n}\n\t\t.container_message {\n    \t\topacity:  ]] .. message.. [[ ;\n\t\t\ttext-align: center;\n\t\t\twidth: 100vw;\n\t\t\tdisplay: inherit flex;\n\t\t\talign-items: center;\n\t\t\tpadding-right: 2.58vw;\n\t\t\tpadding-top: 2.58vw;\n}\n\n/*Child container*/\n\t.span {\nposition: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n\n\t.item_container {\n\t\tjustify-self: auto;\n  \t\tpadding: 1.03vw;\n\t\theight: 100%;\n  \t\tfont-size: 3.5vw;\n\t\tposition: relative;\n\t\tvertical-align: middle;\n  \t\ttext-align: center;\t\t\n  \t\tcolor: white;\n\t}\n\n\t.item_container_carbon {\n          background-color: rgba(131, 134, 138, 0.4);\n          border: 0.2vw solid rgba(131, 134, 138, 1);\t\t\n\t}\n\t.item_container_iron {\n\t\tbackground-color: rgba(255, 192, 113, 0.4);\n\t\tborder: 0.2vw solid rgba(255, 192, 113, 1);\n\t}\n\t.item_container_silicon {\n\t\tbackground-color: rgba(68, 199, 231, 0.4);\n\t\tborder: 0.2vw solid rgba(68, 199, 231, 1);\n\t}\n\t.item_container_aluminium {\n\t\tbackground-color: rgba(107, 77, 255, 0.4);\n\t\tborder: 0.2vw solid rgba(107, 77, 255, 1);\n\t}\n\n\t\t.item_container_carbon--1 {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\n\t\t}\n\t\t.item_container_iron--1 {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\n\t\t}\n\t\t.item_container_silicon--1 {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\n\t\t}\n\t\t.item_container_aluminium--1 {\n\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\n\t\t\tz-index: 2;\n\t\t}\n\n\t\t.infos_title {\n\t\t\tposition: relative;\n\t\t\tleft: 34.83vw;\n\t\t\tcolor: red;\n\t\t\tmargin-bottom: 3.09vw;\n\t\t\twidth: 25.8vw;\n\t\t\tfont-weight: bold;\n\t\t\tborder-bottom: 0.31vw solid red;\n\t\t\tfont-size: 3.92vw;\n\t\t\tanimation: urgent 2s infinite alternate;\n\t\t}\n\t\t.item_container_message {\n\t\t\tjustify-self: center;\n\t\t\talign-items: center;\n  \t\t\tfont-size: 3.09vw;\n  \t\t\ttext-align: center;\n  \t\t\tcolor: white;\n\t\t\tpadding-right: 0.16vw;\n\t\t}\n\n@keyframes show {\n\t0% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes faible {\n\t0% {\n\t\ttransform: scale(0.95);\n\t}\n\t100% {\n\t\ttransform: scale(1);\n\t}\n}\n\n@keyframes urgent {\n\t0% {\n\t\ttransform: scale(1.25);\n\t}\n\t100% {\n\t\ttransform: scale(1.5);\n \t}\n}\n\n</style>\n\n<!-- CONTAINER -->\n<header>\n\t<div class=\"title\">\n\t\t<h1>Tier 1 Pure</h1>\n\t</div>\n</header>\n\n<body>\n<div class=\"prime\">\n<div class=\"container\">\n\t<div class=\"container container__block--1\">\n\t\t<div class=\"item_container item_container_carbon\">\n          \t<span class=\"span\">]].. oreType[1] ..[[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_carbon\">\n        \t<span class=\"span\">]] .. containerVolumecarbon .. [[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_carbon item_container_carbon--1\">\n\t\t\t<div class=\"progress-bar progress-bar-carbon\"> \n\t\t\t\t]] .. percentcarbon .. [[ %\n\t\t\t</div>\n\t\t\t<div class=\"progress-bar2 progress-bar-coal\"> \n\t\t\t\t]] .. containerVolumecoal .. [[\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=\"container\">\n\t<div class=\"container container__block--2\">\n\t\t<div class=\"item_container item_container_iron\">\n          \t<span class=\"span\">]].. oreType[2] ..[[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_iron\">\n        \t<span class=\"span\">]] .. containerVolumeiron .. [[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_iron item_container_iron--1\">\n\t\t   \t<div class=\"progress-bar progress-bar-iron\"> \n\t\t\t\t]] .. percentiron .. [[ %\n\t\t\t</div>\n\t\t\t<div class=\"progress-bar2 progress-bar-hematite\"> \n\t\t\t\t]] .. containerVolumehematite .. [[\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=\"container\">\n\t<div class=\"container container__block--3\">\n\t\t<div class=\"item_container item_container_silicon\">\n          \t<span class=\"span\">]].. oreType[3] ..[[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_silicon\">\n        \t<span class=\"span\">]] .. containerVolumesilicon .. [[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_silicon item_container_silicon--1\">\n\t\t   \t<div class=\"progress-bar progress-bar-silicon\"> \n\t\t\t\t]] .. percentsilicon .. [[ %\n\t\t\t</div>\n\t\t\t<div class=\"progress-bar2 progress-bar-quartz\"> \n\t\t\t\t]] .. containerVolumequartz .. [[\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=\"container\">\n\t<div class=\"container container__block--4\">\n\t\t<div class=\"item_container item_container_aluminium\">\n          \t<span class=\"span\">]].. oreType[4] ..[[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_aluminium\">\n        \t<span class=\"span\">]] .. containerVolumealuminium .. [[</span>\n\t\t</div>\n\t\t<div class=\"item_container item_container_aluminium item_container_aluminium--1\">\n\t\t   \t<div class=\"progress-bar progress-bar-aluminium\"> \n\t\t\t\t]] .. percentaluminium .. [[ %\n\t\t\t</div>\n\t\t\t<div class=\"progress-bar2 progress-bar-bauxite\"> \n\t\t\t\t]] .. containerVolumebauxite .. [[\n\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n\n\n\n\n</body>\n</html>\n]]\n\nscreen.setHTML(view)","filter":{"args":[],"signature":"start()","slotKey":"-1"},"key":"0"}],"methods":[],"events":[]}
